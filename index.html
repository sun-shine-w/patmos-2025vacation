<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íŒ»ë¨¸ìŠ¤ ì—¬ë¦„íœ´ê°€ ì¼ì •</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
     /* ì§„ì§œ ë°˜ì‘í˜• - ìŠ¤í¬ë¡¤ ì—†ì´ í™”ë©´ì— ë§ì¶¤ */
.calendar-container {
    width: 100%;
}

/* ëª¨ë°”ì¼ ìµœì í™” - í™”ë©´ì— ë”± ë§ì¶¤ */
@media (max-width: 768px) {
    /* ì „ì²´ íŒ¨ë”© ì¤„ì´ê¸° */
    .main-container {
        padding: 8px;
    }
    
    /* ìº˜ë¦°ë” ê·¸ë¦¬ë“œ */
    .calendar-grid {
        gap: 1px;
        width: 100%;
    }
    
    /* ê° ë‚ ì§œ ì…€ */
    .day-cell {
        height: 80px; /* ë†’ì´ë¥¼ ì‘ê²Œ */
        padding: 2px;
        font-size: 8px;
        overflow: hidden;
    }
    
    /* ë‚ ì§œ ìˆ«ì */
    .day-number {
        font-size: 10px;
        font-weight: bold;
        margin-bottom: 2px;
    }
    
    /* íœ´ê°€ ë§‰ëŒ€ */
    .vacation-bar {
        font-size: 7px; /* ì‘ì€ í°íŠ¸ */
        padding: 1px 2px;
        margin-bottom: 1px;
        line-height: 1.1;
        height: 12px;
        display: flex;
        align-items: center;
    }
    
    /* ìš”ì¼ í—¤ë” */
    .weekday-header {
        padding: 4px 2px;
        font-size: 11px;
        font-weight: bold;
    }
    
    /* ì œëª© í¬ê¸° ì¡°ì • */
    .main-title {
        font-size: 20px;
        margin-bottom: 8px;
    }
    
    .calendar-title {
        font-size: 16px;
    }
    
    /* ë²”ë¡€ ìµœì í™” */
    .legend-container {
        margin-bottom: 12px;
    }
    
    .legend-grid {
        gap: 4px;
    }
    
    .legend-item {
        font-size: 9px;
        margin: 1px;
    }
    
    .legend-color {
        width: 8px;
        height: 8px;
    }
    
    /* ë²„íŠ¼ í¬ê¸° ì¡°ì • */
    .month-button {
        padding: 8px 12px;
        font-size: 14px;
    }
    
    /* í†µê³„ ì˜ì—­ */
    .stats-container {
        margin-top: 12px;
    }
    
    .stats-grid {
        gap: 8px;
    }
    
    .stat-box {
        padding: 8px;
    }
    
    .stat-number {
        font-size: 16px;
    }
    
    .stat-label {
        font-size: 10px;
    }
    
    /* íœ´ê°€ ëª©ë¡ */
    .vacation-list {
        max-height: 120px;
        font-size: 10px;
    }
    
    /* ì´ë¦„ë§Œ í‘œì‹œ (ì¼ìˆ˜ëŠ” ìˆ¨ê¹€) */
    .vacation-duration {
        display: none;
    }
    
    /* ë” ë§ì€ ì‚¬ëŒì´ ìˆì„ ë•Œ í‘œì‹œ */
    .overflow-count {
        font-size: 6px;
        margin-top: 1px;
    }
}

/* ì¤‘ê°„ í¬ê¸° í™”ë©´ */
@media (min-width: 769px) and (max-width: 1024px) {
    .day-cell {
        height: 120px;
        padding: 4px;
    }
    
    .vacation-bar {
        font-size: 9px;
        padding: 2px 4px;
    }
}
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="main-container max-w-7xl mx-auto p-4 sm:p-6">
        <!-- í—¤ë” -->
        <div class="mb-6 sm:mb-8 text-center">
            <h1 class="main-title text-2xl sm:text-4xl font-bold text-gray-800 mb-2">ğŸŒ´ íŒ»ë¨¸ìŠ¤ ì—¬ë¦„íœ´ê°€ ì¼ì •</h1>
            <p class="text-sm sm:text-base text-gray-600">2025ë…„ 7ì›” - 8ì›” íœ´ê°€ í˜„í™©</p>
            <div class="mt-4 flex items-center justify-center">
                <div class="w-4 h-4 bg-green-500 rounded-full mr-2"></div>
                <span class="text-green-700 font-semibold text-sm">ì‹¤ì œ ë°ì´í„° ì ìš© ì™„ë£Œ</span>
            </div>
        </div>

        <!-- ì›” ì„ íƒ ë²„íŠ¼ -->
        <div class="flex items-center justify-center mb-6">
            <button id="btn-july" class="month-button px-4 py-2 mx-2 rounded-lg font-semibold transition-colors bg-blue-500 text-white">
                7ì›”
            </button>
            <button id="btn-august" class="month-button px-4 py-2 mx-2 rounded-lg font-semibold transition-colors bg-white text-gray-700 hover:bg-gray-100">
                8ì›”
            </button>
        </div>

        <!-- ë²”ë¡€ -->
        <div class="legend-container mb-6">
            <div class="text-center mb-3">
                <h4 class="text-sm font-semibold text-gray-700 mb-2">íŒ€ì›ë³„ ìƒ‰ìƒ</h4>
                <div class="legend-grid flex flex-wrap items-center justify-center gap-2 sm:gap-3 text-xs">
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-pink-500 rounded mr-1"></div><span>í•œí˜œë¯¸</span></div>
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-blue-500 rounded mr-1"></div><span>ë°•ì§€ì›</span></div>
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-green-500 rounded mr-1"></div><span>ì‹ ì„ ì˜</span></div>
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-purple-500 rounded mr-1"></div><span>ê¹€ìˆ˜ê²½</span></div>
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-yellow-500 rounded mr-1"></div><span>ê¹€ìƒˆë¡</span></div>
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-indigo-500 rounded mr-1"></div><span>ì´í˜•ë…¸</span></div>
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-red-500 rounded mr-1"></div><span>ê¹€ë‹¤ì• </span></div>
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-teal-500 rounded mr-1"></div><span>ì•ˆí˜¸ì˜</span></div>
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-orange-500 rounded mr-1"></div><span>ì´ì˜ˆì€</span></div>
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-amber-500 rounded mr-1"></div><span>ê¹€ëª…ì§„</span></div>
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-lime-500 rounded mr-1"></div><span>ì •ì§€ìˆ˜</span></div>
                    <div class="legend-item flex items-center"><div class="legend-color w-3 h-3 bg-fuchsia-500 rounded mr-1"></div><span>ì¡°ìŠ¬ê¸°</span></div>
                </div>
            </div>
        </div>

        <!-- ìº˜ë¦°ë” ì»¨í…Œì´ë„ˆ -->
        <div class="calendar-container">
            <div id="calendar" class="bg-white rounded-lg shadow-lg p-4 sm:p-6">
                <div class="text-center py-8">ë¡œë”© ì¤‘...</div>
            </div>
        </div>

        <!-- í†µê³„ -->
        <div class="stats-container mt-6 sm:mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6">
            <div class="bg-white rounded-lg shadow-lg p-4 sm:p-6">
                <h3 class="text-lg sm:text-xl font-bold text-gray-800 mb-4">ì´ë‹¬ì˜ íœ´ê°€ í†µê³„</h3>
                <div id="stats" class="stats-grid grid grid-cols-3 gap-4"></div>
            </div>
            
            <div class="bg-white rounded-lg shadow-lg p-4 sm:p-6">
                <h3 class="text-lg sm:text-xl font-bold text-gray-800 mb-4">ì „ì²´ íœ´ê°€ ëª©ë¡</h3>
                <div id="vacation-list" class="vacation-list max-h-64 overflow-y-auto space-y-2"></div>
            </div>
        </div>
    </div>
    <!-- JavaScriptëŠ” ë™ì¼ -->
    <script>
        // íœ´ê°€ ë°ì´í„°
        const vacationData = {
            "2025-06-30": [{"name": "í•œí˜œë¯¸", "type": "ì—°ì°¨", "duration": 3, "isStart": true, "isEnd": false, "groupId": "í•œí˜œë¯¸-0"}],
            "2025-07-01": [{"name": "í•œí˜œë¯¸", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": false, "groupId": "í•œí˜œë¯¸-0"}],
            "2025-07-02": [{"name": "í•œí˜œë¯¸", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": true, "groupId": "í•œí˜œë¯¸-0"}],
            "2025-07-10": [{"name": "ê¹€ìˆ˜ê²½", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ê¹€ìˆ˜ê²½-0"}],
            "2025-07-11": [{"name": "ê¹€ìˆ˜ê²½", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ê¹€ìˆ˜ê²½-0"}],
            "2025-07-21": [{"name": "ì‹ ì„ ì˜", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ì‹ ì„ ì˜-0"}],
            "2025-07-22": [{"name": "ì‹ ì„ ì˜", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ì‹ ì„ ì˜-0"}],
            "2025-07-24": [{"name": "ë°•ì§€ì›", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ë°•ì§€ì›-0"}],
            "2025-07-25": [{"name": "ë°•ì§€ì›", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ë°•ì§€ì›-0"}],
            "2025-08-07": [{"name": "ë°•ì§€ì›", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ë°•ì§€ì›-1"}],
            "2025-08-08": [{"name": "ë°•ì§€ì›", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ë°•ì§€ì›-1"}, {"name": "ì•ˆí˜¸ì˜", "type": "ì—°ì°¨", "duration": 3, "isStart": true, "isEnd": false, "groupId": "ì•ˆí˜¸ì˜-0"}, {"name": "ì •ì§€ìˆ˜", "type": "ì—°ì°¨", "duration": 1, "isStart": true, "isEnd": true, "groupId": "ì •ì§€ìˆ˜-0"}],
            "2025-08-11": [{"name": "ê¹€ëª…ì§„", "type": "ì—°ì°¨", "duration": 3, "isStart": true, "isEnd": false, "groupId": "ê¹€ëª…ì§„-0"}, {"name": "ì•ˆí˜¸ì˜", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": false, "groupId": "ì•ˆí˜¸ì˜-0"}, {"name": "ê¹€ë‹¤ì• ", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ê¹€ë‹¤ì• -0"}],
            "2025-08-12": [{"name": "ê¹€ëª…ì§„", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": false, "groupId": "ê¹€ëª…ì§„-0"}, {"name": "ì•ˆí˜¸ì˜", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": true, "groupId": "ì•ˆí˜¸ì˜-0"}, {"name": "ê¹€ë‹¤ì• ", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ê¹€ë‹¤ì• -0"}],
            "2025-08-13": [{"name": "ê¹€ëª…ì§„", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": true, "groupId": "ê¹€ëª…ì§„-0"}, {"name": "ê¹€ìƒˆë¡", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ê¹€ìƒˆë¡-0"}],
            "2025-08-14": [{"name": "", "type": "spacer", "duration": 1, "isStart": true, "isEnd": true, "groupId": "spacer-27"}, {"name": "ê¹€ìƒˆë¡", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ê¹€ìƒˆë¡-0"}, {"name": "ë°•ì§€ì›", "type": "ì—°ì°¨", "duration": 1, "isStart": true, "isEnd": true, "groupId": "ë°•ì§€ì›-2"}, {"name": "ê¹€ìˆ˜ê²½", "type": "ì—°ì°¨", "duration": 3, "isStart": true, "isEnd": false, "groupId": "ê¹€ìˆ˜ê²½-1"}, {"name": "ì´í˜•ë…¸", "type": "ì—°ì°¨", "duration": 1, "isStart": true, "isEnd": true, "groupId": "ì´í˜•ë…¸-0"}, {"name": "ì¡°ìŠ¬ê¸°", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ì¡°ìŠ¬ê¸°-0"}],
            "2025-08-18": [{"name": "ê¹€ìˆ˜ê²½", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": false, "groupId": "ê¹€ìˆ˜ê²½-2"}, {"name": "", "type": "spacer", "duration": 1, "isStart": true, "isEnd": true, "groupId": "spacer-28"}, {"name": "", "type": "spacer", "duration": 1, "isStart": true, "isEnd": true, "groupId": "spacer-29"}, {"name": "", "type": "spacer", "duration": 1, "isStart": true, "isEnd": true, "groupId": "spacer-30"}, {"name": "", "type": "spacer", "duration": 1, "isStart": true, "isEnd": true, "groupId": "spacer-31"}, {"name": "ì¡°ìŠ¬ê¸°", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ì¡°ìŠ¬ê¸°-0"}],
            "2025-08-19": [{"name": "ê¹€ìˆ˜ê²½", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": true, "groupId": "ê¹€ìˆ˜ê²½-2"}],
            "2025-08-20": [{"name": "ì •ì§€ìˆ˜", "type": "ì—°ì°¨", "duration": 3, "isStart": true, "isEnd": false, "groupId": "ì •ì§€ìˆ˜-1"}, {"name": "ì‹ ì„ ì˜", "type": "ì—°ì°¨", "duration": 3, "isStart": true, "isEnd": false, "groupId": "ì‹ ì„ ì˜-1"}],
            "2025-08-21": [{"name": "ì •ì§€ìˆ˜", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": false, "groupId": "ì •ì§€ìˆ˜-1"}, {"name": "ì‹ ì„ ì˜", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": false, "groupId": "ì‹ ì„ ì˜-1"}, {"name": "ê¹€ëª…ì§„", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ê¹€ëª…ì§„-1"}, {"name": "ì´í˜•ë…¸", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ì´í˜•ë…¸-1"}],
            "2025-08-22": [{"name": "ì •ì§€ìˆ˜", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": true, "groupId": "ì •ì§€ìˆ˜-1"}, {"name": "ì‹ ì„ ì˜", "type": "ì—°ì°¨", "duration": 3, "isStart": false, "isEnd": true, "groupId": "ì‹ ì„ ì˜-1"}, {"name": "ê¹€ëª…ì§„", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ê¹€ëª…ì§„-1"}, {"name": "ì´í˜•ë…¸", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ì´í˜•ë…¸-1"}],
            "2025-08-25": [{"name": "ê¹€ë‹¤ì• ", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ê¹€ë‹¤ì• -1"}, {"name": "ì•ˆí˜¸ì˜", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ì•ˆí˜¸ì˜-1"}, {"name": "ì´ì˜ˆì€", "type": "ì—°ì°¨", "duration": 2, "isStart": true, "isEnd": false, "groupId": "ì´ì˜ˆì€-0"}],
            "2025-08-26": [{"name": "ê¹€ë‹¤ì• ", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ê¹€ë‹¤ì• -1"}, {"name": "ì•ˆí˜¸ì˜", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ì•ˆí˜¸ì˜-1"}, {"name": "ì´ì˜ˆì€", "type": "ì—°ì°¨", "duration": 2, "isStart": false, "isEnd": true, "groupId": "ì´ì˜ˆì€-0"}],
            "2025-08-29": [{"name": "ì´ì˜ˆì€", "type": "ì—°ì°¨", "duration": 1, "isStart": true, "isEnd": true, "groupId": "ì´ì˜ˆì€-1"}, {"name": "ì¡°ìŠ¬ê¸°", "type": "ì—°ì°¨", "duration": 1, "isStart": true, "isEnd": true, "groupId": "ì¡°ìŠ¬ê¸°-1"}]
        };

        const colorMap = {
            'í•œí˜œë¯¸': 'bg-pink-500', 'ë°•ì§€ì›': 'bg-blue-500', 'ì‹ ì„ ì˜': 'bg-green-500',
            'ê¹€ìˆ˜ê²½': 'bg-purple-500', 'ê¹€ìƒˆë¡': 'bg-yellow-500', 'ì´í˜•ë…¸': 'bg-indigo-500',
            'ê¹€ë‹¤ì• ': 'bg-red-500', 'ì•ˆí˜¸ì˜': 'bg-teal-500', 'ì´ì˜ˆì€': 'bg-orange-500',
            'ê¹€ëª…ì§„': 'bg-amber-500', 'ì •ì§€ìˆ˜': 'bg-lime-500', 'ì¡°ìŠ¬ê¸°': 'bg-fuchsia-500'
        };

        let currentMonth = 6;
        const weekdays = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
        const months = ['1ì›”', '2ì›”', '3ì›”', '4ì›”', '5ì›”', '6ì›”', '7ì›”', '8ì›”', '9ì›”', '10ì›”', '11ì›”', '12ì›”'];

        function getCalendarDays(year, month) {
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const daysInMonth = lastDay.getDate();
            const startingDayOfWeek = firstDay.getDay();
            
            const days = [];
            
            if (month === 6) {
                days.push(null);
                days.push({ day: 30, month: 5, isCurrentMonth: false });
            } else {
                for (let i = 0; i < startingDayOfWeek; i++) {
                    days.push(null);
                }
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                days.push({ day, month, isCurrentMonth: true });
            }
            
            return days;
        }

        function formatDate(year, month, day) {
            return `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
        }

        function getVacationsForDate(year, month, day) {
            const dateStr = formatDate(year, month, day);
            return vacationData[dateStr] || [];
        }

        function isHoliday(year, month, day) {
            const dateStr = formatDate(year, month, day);
            return dateStr === '2025-08-15';
        }

        function renderVacationBar(vacation) {
    if (vacation.type === 'spacer') {
        return '<div class="vacation-bar" style="min-height: 12px;"></div>';
    }
    
    const color = colorMap[vacation.name] || 'bg-gray-500';
    const textColor = 'text-white';
    
    let cornerClass = '';
    let borderClass = '';
    
    if (vacation.duration > 1) {
        if (vacation.isStart && vacation.isEnd) {
            cornerClass = 'rounded';
        } else if (vacation.isStart) {
            cornerClass = 'rounded-l';
            borderClass = 'border-r border-white border-opacity-30';
        } else if (vacation.isEnd) {
            cornerClass = 'rounded-r';
            borderClass = 'border-l border-white border-opacity-30';
        } else {
            borderClass = 'border-l border-r border-white border-opacity-30';
        }
    } else {
        cornerClass = 'rounded';
    }
    
    // ëª¨ë°”ì¼ì—ì„œëŠ” ì´ë¦„ë§Œ, ë°ìŠ¤í¬í†±ì—ì„œëŠ” ì¼ìˆ˜ í¬í•¨
    const displayText = vacation.isStart && vacation.duration > 1 
        ? `<span class="hidden sm:inline">${vacation.name}(${vacation.duration}ì¼)</span><span class="sm:hidden">${vacation.name}</span>` 
        : vacation.name;
    
    return `<div class="vacation-bar ${color} ${cornerClass} ${textColor} ${borderClass} truncate" title="${vacation.name} - ${vacation.type} (${vacation.duration}ì¼)">${displayText}</div>`;
}
        function renderCalendar() {
            const year = 2025;
            const days = getCalendarDays(year, currentMonth);
            
            let calendarHTML = `
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl sm:text-2xl font-bold text-gray-800">${year}ë…„ ${months[currentMonth]}</h2>
                </div>
                <div class="grid grid-cols-7 gap-1 mb-2">
    ${weekdays.map((day, index) => `<div class="weekday-header p-2 sm:p-3 text-center font-semibold ${index === 0 ? 'text-red-500' : index === 6 ? 'text-blue-500' : 'text-gray-700'}">${day}</div>`).join('')}
</div>
                <div class="calendar-grid grid grid-cols-7 gap-1">
                    ${days.map((dayObj, index) => {
                        if (dayObj === null) {
                            return '<div class="day-cell p-2 sm:p-2" style="height: 140px;"></div>';
                        }
                        
                        const day = dayObj.day;
                        const dayMonth = dayObj.month;
                        const isCurrentMonth = dayObj.isCurrentMonth;
                        const actualYear = year;
                        const actualMonth = isCurrentMonth ? currentMonth : dayMonth;
                        const isWeekend = index % 7 === 0 || index % 7 === 6;
                        const holiday = isHoliday(actualYear, actualMonth, day);
                        const vacations = (isWeekend || holiday) ? [] : getVacationsForDate(actualYear, actualMonth, day);
                        
                        return `
                            <div class="day-cell p-2 sm:p-2 border border-gray-200 relative ${isWeekend || holiday ? 'bg-red-50' : !isCurrentMonth ? 'bg-gray-100' : 'bg-white'}" style="height: 140px;">
                                <div class="day-number text-sm font-semibold mb-1 ${isWeekend || holiday ? 'text-red-600' : !isCurrentMonth ? 'text-gray-400' : 'text-gray-700'}">${day}</div>
                                ${vacations.length > 0 ? `<div class="space-y-0.5">${vacations.slice(0, 6).map(vacation => renderVacationBar(vacation)).join('')}${vacations.length > 6 ? `<div class="text-xs text-gray-500 mt-1">+${vacations.length - 6}ëª…</div>` : ''}</div>` : ''}
                                ${holiday ? '<div class="absolute top-1 right-1 text-xs text-red-600 font-bold">íœ´</div>' : ''}
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
            
            document.getElementById('calendar').innerHTML = calendarHTML;
        }

        function updateStats() {
            const monthStart = `2025-${String(currentMonth + 1).padStart(2, '0')}-01`;
            const monthEnd = `2025-${String(currentMonth + 1).padStart(2, '0')}-31`;
            
            const monthVacations = Object.entries(vacationData)
                .filter(([date, _]) => date >= monthStart && date <= monthEnd)
                .filter(([date, _]) => {
                    const dateObj = new Date(date);
                    const dayOfWeek = dateObj.getDay();
                    const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;
                    const [year, month, day] = date.split('-').map(Number);
                    const isHoliday = (month === 8 && day === 15);
                    return !isWeekend && !isHoliday;
                })
                .flatMap(([_, vacations]) => vacations)
                .filter(v => v.type !== 'spacer');
            
            const annualLeave = monthVacations.filter(v => v.type === 'ì—°ì°¨').length;
            const halfDayLeave = monthVacations.filter(v => v.type === 'ë°˜ì°¨').length;
            const uniqueUsers = new Set(monthVacations.map(v => v.name).filter(name => name !== '')).size;
            
            document.getElementById('stats').innerHTML = `
                <div class="bg-blue-50 p-4 rounded-lg text-center">
                    <div class="text-xl sm:text-2xl font-bold text-blue-600">${annualLeave}ê±´</div>
                    <div class="text-blue-700">ì—°ì°¨</div>
                </div>
                <div class="bg-green-50 p-4 rounded-lg text-center">
                    <div class="text-xl sm:text-2xl font-bold text-green-600">${halfDayLeave}ê±´</div>
                    <div class="text-green-700">ë°˜ì°¨</div>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg text-center">
                    <div class="text-xl sm:text-2xl font-bold text-gray-600">${uniqueUsers}ëª…</div>
                    <div class="text-gray-700">íœ´ê°€ ì‚¬ìš©ì</div>
                </div>
            `;
        }

        function updateVacationList() {
            const allVacations = [];
            Object.entries(vacationData).forEach(([date, vacations]) => {
                vacations.forEach(vacation => {
                    if (vacation.isStart && vacation.type !== 'spacer') {
                        allVacations.push({
                            name: vacation.name,
                            startDate: date,
                            duration: vacation.duration,
                            type: vacation.type
                        });
                    }
                });
            });
            allVacations.sort((a, b) => a.startDate.localeCompare(b.startDate));
            
            document.getElementById('vacation-list').innerHTML = allVacations.map(vacation => `
                <div class="flex items-center justify-between py-2 px-3 bg-gray-50 rounded">
                    <div class="flex items-center"><span class="font-medium">${vacation.name}</span></div>
                    <div class="text-sm text-gray-600">${vacation.startDate.substring(5).replace('-', '/')} ${vacation.duration > 1 ? ` (${vacation.duration}ì¼)` : ''}</div>
                </div>
            `).join('');
        }

        function switchMonth(month) {
            currentMonth = month;
            document.getElementById('btn-july').className = month === 6 ? 'px-4 py-2 mx-2 rounded-lg font-semibold transition-colors bg-blue-500 text-white' : 'px-4 py-2 mx-2 rounded-lg font-semibold transition-colors bg-white text-gray-700 hover:bg-gray-100';
            document.getElementById('btn-august').className = month === 7 ? 'px-4 py-2 mx-2 rounded-lg font-semibold transition-colors bg-blue-500 text-white' : 'px-4 py-2 mx-2 rounded-lg font-semibold transition-colors bg-white text-gray-700 hover:bg-gray-100';
            renderCalendar();
            updateStats();
        }

        document.getElementById('btn-july').addEventListener('click', () => switchMonth(6));
        document.getElementById('btn-august').addEventListener('click', () => switchMonth(7));

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            renderCalendar();
            updateStats();
            updateVacationList();
        });
    </script>
</body>
</html>
